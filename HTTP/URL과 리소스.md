# URL과 리소스

URL(Uniform Resource Locator) : 인터넷의 리소스를 가리키는 표준 이름

- 리소스가 어디에 있고 어떻게 접근할 수 있는지 알려준다
- 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가르킴
- 애플리케이션이 리소스에 접근할 수 있는 방법



### URL 구조

- 종류 : URN, URI
  - URN : 현재 그 리소스가 어디 있는지 상관없이 이름만으로 식별 가능
  - URL : 리소스가 어디에 있는지 설명해 리소스 식별
- http://www.joes-hardware.com/seasonal/index-fall.html
  - http -> URL의 스킴
    - 스킴 : 웹 클라이언트가 리소스에 어떻게 접근하는지 알려줌
  - www.joes-hardware.com -> 서버의 위치
    - 웹클라이언트가 리소스가 어디에 호스팅 되어 있는지 알려줌
  - /seasonal/index-fall.html -> 리소스의 경로
    - 서버에 존재하는 로컬 리소스들 중에서 요청 받은 리소스가 무엇인지 알려준다
- 꼭 http가 아니어도 된다
  - mailto:president@whitehouse.gov
  - ftp://ftp.lots-obooks.com/pub/complete-price-list.xls
- '스킴://서버위치/경로'





### URL 문법

- URL의 문법은 스킴에 따라 다라진다 

- 하지만 대부분 ULR은 일반 URL문법을 따르며 문법들이 매우 유사하다

- **<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>**

  | 컴포넌트   | -                                                            | 기본값           |
  | ---------- | ------------------------------------------------------------ | ---------------- |
  | 스킴       | 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야 하는지 가르킨다 | 없음             |
  | 사용자이름 | 몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로한다 | anonymous        |
  | 비밀번호   | 사용자의 비밀번호를 가리키며, 사용자 이름에 콜론(:)으로 이어서 기술한다 | <이메일주소>     |
  | 호스트     | 리소스를 호스팅하는 서버의 호스트 명이나 IP주소              | 없음             |
  | 포트       | 리소스를 호스팅하는 서버가 열어놓은 포트 번호. 많은 스킴이 기본 포트를 가지고 있다(HTTP의 기본 포트는 80이다) | 스킴에 따라 다름 |
  | 경로       | 이전 컴포넌트와 빗금(/)으로 구분되어 있으며, 서버 내 리소스가 서버 어디에 있는지를 가리킨다. 경로 컴포넌트의 문법은 서버와 스킴에 따라 다르다. (URL의 경로를 세그먼트로 나눌 수 있고, 각 세그먼트는 자체 컴포넌트를 가질 수 있다는 것을 알게 될 것이다.) | 없음             |
  | 파라미터   | 특정 스킴들에서 입력 파라미터를 기술하는 용도로 사용한다. 파라미터는 이름/값을 쌍으로 가진다. 파라미터는, 다른 파라미터나 경로의 일부와 세미콜론(;)으로 기술하며, 여러 개를 가질 수 있다. | 없음             |
  | 질의       | 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰인다. 질의 컴포넌트를 작성하는데 쓰이는 공통 포맷은 없다. 이는 URL의 끝에 "?"로 구분한다. | 없음             |
  | 프래그먼트 | 리소스의 조각이나 일부분을 가리키는 이름이다. URL이 특정 객체를 가리킬경우에 프래그먼트 필드는 서버에 전달되지 않는다. 이는 클라이언트에서만 사용한다. URL의 끝에서 "#"문자로 구분한다 | 없음             |

  

##### 스킴

- 사용할 프로토콜
- 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보



##### 호스트와 포트

- 리소스를 호스팅하고 있는 장비와 그 장비 내에서 리소스에 접근할 수 있는 서버가 어디에 있는지 알아야한다
  - URL의 호스트와 포트 컴포넌트는 그 두가지 정보를 제공
- 호스트 컴포넌트는 접근하려고 하는 리소스를 가지고 있는 인터넷 상의 호스트 장비를 가르킴
- 호스트명이나 IP주소로 제공
- 포트 컴포넌트 : 서버가 열어놓은 네트워크 포트를 가르킴



##### 사용자 이름과 비밀번호

- 많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자의 이름과 비밀번호를 요구한다.
- Ex.)
  - ftp://ftp.prep.ai.mit.edu/pub/gnu
  - ftp://anonymous@ftp.prep.ai.mi.edu/pub/ngnu
  - http://joe:joespasswd@www.joes-hardware.com/sales_info.txt
- FTP URL에 접근하면 기본 사용자 이름값으로 'anonymous', 비빌먼호는 브라우저마다 가지고 있는 기본 값
  - IE : IEUser
  - Chrome : chrome@example.com
- (:)를 활용하여 이름과 비밀번호 분리



##### 경로

- URL의 경로 컴포넌트는 리소스가 서버의 어디에 있는지 알려준다
- 계층적 파일 시스템 경로와 유사한 구조를 가진다 
- 서버가 리소의 위치를 찾는데 사용하는정보 
- '/'를 기준으로 경로 조각으로 나뉜다.
- 각 경로조각은 자체만의 파라미터 컴포넌트를 가질 수 있다.



##### 파라미터

- 호스트 및 경로 정보만으로는 리소스를 차지 못한다
- 애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는 사용
- 이름/값 싸으이 리스트 
- URL 나머지 부분들러부터 ';' 문자로 구분하여 URL에 기술
- http://www.joes-hardware.com/hammers;sale=false/index.html;graphics=true
  - hammers와 index.html이라는 두 개의 경로 조각이 있다.
    - hammers;sale=false
    - Index.html;graphics=true;



##### 질의 문자열

- 요청받을 리소스 형식의 범위를 좁히기 위해 질문이나 질의를 받을 수 있다.
- ?의 우측에 있는 값을 질의 컴포넌트라고 부른다
- http://www.joes-hardware.com/inventory-check.cgi?item=12731
  - 12731번 아이템
- '&'와 '이름=값' 형식의 질의 문자열을 사용한다.



##### 프래그먼트

- HTML 같은 리소스 형식들은 보래의 수준보다 더 작게 나눌 수 있따.
- 리소스의 특정 부분을 가리킬수 있도록, 프래그먼트 컴포넌트를 제공한다
- http://www.joes-hardware.com/tools.html#drills
- drills라는 프래그먼트는 웹 서버에 위치한 /tools.html 웹 페이지의 일부를 가리킨다

- 일반적인 HTTP 서버는 객체 일부가 아닌 전체만 다루기 떄문에 클라이언트는 서버에 프래그먼트를 전달 하지 안흔다.
- 브라우저가 서버로부터 전체 리소스를 내려 받은 후, 프래그먼트를 사용하여 당신이 보고자 하는 리소스의 일부를 보여준다.
  - EX.) 스크롤
- URL 프래그먼트는 클라이언트에서만 사용된댜.





### 단축 URL

- 많은 브라우저가 사용자가 기억하고 있는 URL 일부를 입력하면 나머지 부분을 자동으로 입력해주는 URL '자동확장'을 지원한다



##### 상대 URL

- 절대 URL  -> 리소스에 접근하는데 필요한 모든 정보를 가지고 있다.

- 상대 URL -> 리소스에 접근하는데 모든 정보를 담고 있지는 않다.

- 기저 (base)라고 하는 다른 URL을 사용한다.

- 상대 URL : URL을 짧게 표현하는 방식

  - 리소스 집합을 쉽게 변경 하룻 있다
  - 문서 집합의 위치를 변경하도라도 새로운 기저 URL에 의해 해석될 것이다
  - 위치를 변경하더라도 잘 동작할 것이다.
    - 마치 다른 서버에 있는 콘텐츠를 미러링 할 수 있게 허용하는 것과 유사하다

  